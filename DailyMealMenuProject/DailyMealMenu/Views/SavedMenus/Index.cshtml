@model IEnumerable<DailyMealMenu.Controllers.SavedMenuVm>
@{
    ViewData["Title"] = "Kaydedilmiş Menüler";
}

<style>
    :root {
        --brand: #00008B; /* koyu mavi */
        --muted: #6b7280;
        --bg: #f6f7fb;
        --card: #ffffff;
        --line: #e5e7eb;
    }

    body {
        background: var(--bg);
        color: #1f2937;
        font-family: Inter, Roboto, "Segoe UI", Arial, sans-serif;
    }

    /* Navbar stili */
    .page-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: var(--brand);
        color: #fff;
        padding: 14px 20px;
        border-radius: 8px;
        margin-bottom: 20px;
    }

        .page-header h2 {
            color: #fff;
            font-weight: 600;
            font-size: 20px; /* biraz küçültüldü */
            margin: 0;
        }

        .page-header a.btn {
            color: #fff;
            border: 1px solid #fff;
        }

            .page-header a.btn:hover {
                background: #fff;
                color: var(--brand);
            }

    .table {
        background: var(--card);
        border: 1px solid var(--line);
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,.05);
    }

        .table th {
            background: var(--brand);
            color: #fff;
            font-weight: 600;
            border: none;
        }

        .table td {
            vertical-align: middle;
            border-color: var(--line);
        }

    .btn-primary {
        background: var(--brand);
        border-color: var(--brand);
    }

        .btn-primary:hover {
            background: #0b49ff;
            border-color: #0b49ff;
        }

    .btn-outline-danger {
        border-radius: 8px;
    }

    .alert {
        border-radius: 8px;
        padding: 12px 16px;
        font-size: 14px;
    }

    ul {
        margin: 0;
        padding-left: 18px;
        color: var(--muted);
    }

        ul li b {
            color: var(--brand);
        }
</style>

<!-- Navbar şeklinde başlık + buton -->
<div class="page-header">
    <a href="/Yemek/YemekEkle" class="btn">⬅ Geri Dön</a>
    <h2>Kaydedilmiş Menüler</h2>
</div>

@if (TempData["Ok"] != null)
{
    <div class="alert alert-success">@TempData["Ok"]</div>
}
@if (TempData["Err"] != null)
{
    <div class="alert alert-danger">@TempData["Err"]</div>
}

<table class="table">
    <thead>
        <tr>
            <th>Başlık</th>
            <th>Oluşturma</th>
            <th>Öğeler</th>
            <th style="width:200px;">İşlemler</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var t in Model)
        {
            <tr>
                <td>@(t.Title ?? ("Şablon #" + t.Id))</td>
                <td>@t.CreatedAt.ToString("dd.MM.yyyy HH:mm")</td>
                <td>
                    <ul>
                        @foreach (var it in t.Items)
                        {
                            <li><b>@it.kategori</b>: @it.name</li>
                        }
                    </ul>
                </td>
                <td>
                    <a class="btn btn-sm btn-primary"
                       href="/Yemek/YemekEkle?fromTemplateId=@t.Id">
                        Kopyala
                    </a>

                    <form method="post" action="/SavedMenus/Delete" style="display:inline;">
                        @Html.AntiForgeryToken()
                        <input type="hidden" name="id" value="@t.Id" />
                        <button type="submit" class="btn btn-sm btn-outline-danger"
                                onclick="return confirm('Silinsin mi?');">
                            Sil
                        </button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>
